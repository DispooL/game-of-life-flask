(this.webpackJsonpinterview=this.webpackJsonpinterview||[]).push([[0],{17:function(e,t,n){},18:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),i=n.n(r),s=n(8),c=n.n(s),o=(n(17),n(3)),l=n(4),h=n(6),u=n(5),d=(n(18),n(10)),g=n(11),p=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).runIteration=function(){if(a.props.running){var e=a.nextGen();a.setState({grid:e},(function(){a.drawGrid(),setTimeout(a.runIteration,a.props.speed)}))}},a.nextGen=function(){for(var e=a.state.grid,t=a.state.rows,n=a.state.columns,r=e.map((function(e){return Object(g.a)(e)})),i=0;i<e.length;i++)for(var s=0;s<e[i].length;s++){for(var c=e[i][s],o=0,l=-1;l<2;l++)for(var h=-1;h<2;h++)if(0!==l||0!==h){var u=i+l,d=s+h;if(u>=0&&d>=0&&u<n&&d<t)o+=e[i+l][s+h]}1===c&&o<2||1===c&&o>3?r[i][s]=0:0===c&&3===o&&(r[i][s]=1)}return r},a.drawCanvas=function(){a.state.ctx=a.canvas.current.getContext("2d"),a.canvas.current.width=a.props.gameWidth,a.canvas.current.height=a.props.gameHeight;var e=a.props.gameHeight/a.props.resolution,t=a.props.gameWidth/a.props.resolution;a.setState({columns:t,rows:e,grid:new Array(t).fill(null).map((function(){return new Array(e).fill(null).map((function(){return Math.floor(2*Math.random())}))}))},(function(){a.drawGrid()}))},a.drawGrid=function(){for(var e=a.props.resolution,t=a.state.ctx,n=a.state.grid,r=0;r<n.length;r++)for(var i=0;i<n[r].length;i++){var s=n[r][i];t.beginPath(),t.rect(r*e,i*e,e,e),t.fillStyle=s?"black":"white",t.fill(),a.props.drawGrid&&t.stroke()}},a.state={ctx:null,grid:null,columns:null,rows:null},a.canvas=i.a.createRef(),a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.drawCanvas()}},{key:"componentDidUpdate",value:function(e){!e.running&&this.props.running&&(console.log("update"),this.runIteration()),e.gameHeight!=this.props.gameHeight&&this.drawCanvas()}},{key:"render",value:function(){return Object(a.jsx)("canvas",{ref:this.canvas})}}]),n}(i.a.Component),m=[{gameWidth:200,gameHeight:200},{gameWidth:400,gameHeight:400},{gameWidth:800,gameHeight:800}],f=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={gameSize:2,gameWidth:m[2].gameWidth,gameHeight:m[2].gameHeight,speed:1e3,resolution:10,running:!1,drawGrid:!1},e.start=function(){e.setState({running:!0})},e.checkboxChange=function(t){var n;e.setState({drawGrid:null!==(n=t.target.checked)&&void 0!==n&&n})},e.selectChange=function(t){e.setState({gameSize:parseInt(t.target.value),gameWidth:m[parseInt(t.target.value)].gameWidth,gameHeight:m[parseInt(t.target.value)].gameHeight})},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(a.jsxs)("div",{className:"settings",children:[Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{htmlFor:"checkbox",children:"\u0421\u0435\u0442\u043a\u0430"}),Object(a.jsx)("input",{id:"checkbox",type:"checkbox",value:this.state.drawGrid,onChange:this.checkboxChange})]}),Object(a.jsxs)("select",{value:this.state.gameSize,onChange:this.selectChange,children:[Object(a.jsx)("option",{value:0,children:"Small"}),Object(a.jsx)("option",{value:1,children:"Medium"}),Object(a.jsx)("option",{value:2,children:"Large"})]}),Object(a.jsx)("button",{onClick:this.start,className:"btn btn-primary",children:"Start"})]}),Object(a.jsx)("label",{htmlFor:"slider",children:"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u043e\u0442 \u043d\u0438\u0437\u043a\u043e\u0439 \u043a \u0432\u044b\u0441\u043e\u043a\u043e\u0439"}),Object(a.jsx)(d.a,{id:"slider",axis:"x",xstep:10,xmin:0,xmax:1e3,x:this.state.speed,onChange:function(t){var n=t.x;return e.setState({speed:parseFloat(n.toFixed(2))})}})]}),Object(a.jsx)("div",{className:"board",style:{display:"flex",justifyContent:"center"},children:Object(a.jsx)(p,{gameWidth:this.state.gameWidth,gameHeight:this.state.gameHeight,speed:this.state.speed,resolution:this.state.resolution,running:this.state.running,drawGrid:this.state.drawGrid})})]})})}}]),n}(i.a.Component),v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,21)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),i(e),s(e)}))};c.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(f,{})}),document.getElementById("root")),v()}},[[20,1,2]]]);
//# sourceMappingURL=main.5df3c3a2.chunk.js.map